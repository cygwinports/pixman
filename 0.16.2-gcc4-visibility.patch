--- origsrc/pixman-0.16.2/configure.ac	2009-09-28 08:09:45.000000000 -0500
+++ src/pixman-0.16.2/configure.ac	2009-10-13 19:35:55.037421900 -0500
@@ -138,7 +138,7 @@ dnl -fvisibility stuff
 have_gcc4=no
 AC_MSG_CHECKING(for -fvisibility)
 AC_COMPILE_IFELSE([
-#if defined(__GNUC__) && (__GNUC__ >= 4)
+#if defined(__GNUC__) && (__GNUC__ >= 4) && !defined(__CYGWIN__)
 #else
 error Need GCC 4.0 for visibility
 #endif
--- origsrc/pixman-0.16.2/pixman/pixman-compiler.h	2009-09-25 09:38:50.000000000 -0500
+++ src/pixman-0.16.2/pixman/pixman-compiler.h	2009-10-13 19:34:50.562509500 -0500
@@ -60,7 +60,7 @@
 #endif
 
 /* GCC visibility */
-#if defined(__GNUC__) && __GNUC__ >= 4
+#if defined(__GNUC__) && __GNUC__ >= 4 && !defined(__CYGWIN__)
 #   define PIXMAN_EXPORT __attribute__ ((visibility("default")))
 /* Sun Studio 8 visibility */
 #elif defined(__SUNPRO_C) && (__SUNPRO_C >= 0x550)
